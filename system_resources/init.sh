#!/bin/sh
export DEBIAN_FRONTEND=noninteractive && apt-get update && apt-get upgrade -y && apt-get -y install nginx && cp /etc/nginx/nginx.conf /etc/nginx/nginx.conf.bak && cp system_resources/nginx.conf /etc/nginx/nginx.conf && rm /etc/nginx/sites-available/default && cp system_resources/hashkit /etc/nginx/sites-available/hashkit && cd /etc/nginx/sites-enabled/ && sudo ln -s ../sites-available/hashkit . && cd /home/ubuntu/Hash-Kit/ && apt-get -y install cron && apt-get -y install python3-pip && pip3 install -r system_resources/requirements.txt && cp system_resources/hashkit.service /etc/systemd/system/hashkit.service && chmod 744 /etc/systemd/system/hashkit.service && systemctl enable hashkit.service && chmod 744 system_resources/start_hashkit.sh && cp system_resources/hashkit_monitor.service /etc/systemd/system/hashkit_monitor.service && chmod 744 /etc/systemd/system/hashkit_monitor.service && systemctl enable hashkit_monitor.service && chmod 744 system_resources/hashkit_monitor.sh && reboot